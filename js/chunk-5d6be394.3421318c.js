(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d6be394"],{"0978":function(t,e,n){},3666:function(t,e,n){"use strict";n.r(e);var s=n("7a23"),c={class:"container w-50"},a={class:"row w-50 mx-auto mb-3 mt-4"},o={class:"col inputTask"},i=Object(s["g"])("i",{class:"bi bi-plus"},null,-1),u=[i],l={key:0,class:"w-50 mx-auto"},r=Object(s["g"])("h3",null,"開始新增待辦事項吧！",-1),d=[r],k={key:1},p={key:0,class:"item-list toDoTasks w-50 mx-auto"},b=Object(s["g"])("h3",null,"To Do Tasks",-1),f={key:1,class:"item-list completedTasks w-50 mx-auto"},h=Object(s["g"])("h3",null,"Completed Tasks",-1);function O(t,e,n,i,r,O){var j=Object(s["C"])("Tasks");return Object(s["w"])(),Object(s["f"])("div",c,[Object(s["g"])("form",a,[Object(s["g"])("h3",null,"Hi, "+Object(s["F"])(r.nickname)+" 歡迎回來！",1),Object(s["g"])("div",o,[Object(s["N"])(Object(s["g"])("input",{type:"text",class:"form-control",placeholder:"Add Task","onUpdate:modelValue":e[0]||(e[0]=function(t){return r.toDo.content=t}),onKeyup:e[1]||(e[1]=Object(s["O"])((function(){return O.addTask&&O.addTask.apply(O,arguments)}),["enter"]))},null,544),[[s["I"],r.toDo.content]]),Object(s["g"])("button",{type:"button",class:"addTask",onClick:e[2]||(e[2]=function(){return O.addTask&&O.addTask.apply(O,arguments)})},u)])]),r.toDos.length?(Object(s["w"])(),Object(s["f"])("div",k,[r.toDoTasks.length?(Object(s["w"])(),Object(s["f"])("ul",p,[b,Object(s["i"])(j,{tasks:r.toDoTasks,onGetTasks:O.getTasks},null,8,["tasks","onGetTasks"])])):Object(s["e"])("",!0),r.completedTasks.length?(Object(s["w"])(),Object(s["f"])("ul",f,[h,Object(s["i"])(j,{tasks:r.completedTasks,onGetTasks:O.getTasks},null,8,["tasks","onGetTasks"])])):Object(s["e"])("",!0)])):(Object(s["w"])(),Object(s["f"])("div",l,d))])}n("4de4"),n("d3b7");var j={class:"d-flex align-items-center"},m={class:"form-check"},g=["id","true-value","onChange"],T=["for"],v=["onClick"],w=Object(s["g"])("i",{class:"bi bi-pencil-square"},null,-1),y=[w],D=["onClick"],E=Object(s["g"])("i",{class:"bi bi-trash"},null,-1),$=[E];function S(t,e,n,c,a,o){var i=Object(s["C"])("EditTask");return Object(s["w"])(!0),Object(s["f"])(s["a"],null,Object(s["B"])(n.tasks,(function(t){return Object(s["w"])(),Object(s["f"])("li",{key:t.id,class:"d-flex justify-content-between"},[Object(s["g"])("div",j,[Object(s["g"])("div",m,[Object(s["g"])("input",{type:"checkbox",id:t.id,class:"form-check-input","true-value":t.completed_at,onChange:function(e){return o.toggleCompleteState(t.id)}},null,40,g),a.currentEditId!==t.id?(Object(s["w"])(),Object(s["f"])("label",{key:0,class:Object(s["q"])(["form-check-label",{done:t.completed_at}]),for:t.id},Object(s["F"])(t.content),11,T)):Object(s["e"])("",!0)]),Object(s["i"])(i,{task:a.tempToDo,onUpdateTask:o.updateTask,onCancelEdit:o.cancelEdit,isEdit:a.currentEditId===t.id},null,8,["task","onUpdateTask","onCancelEdit","isEdit"])]),Object(s["g"])("div",null,[Object(s["g"])("button",{type:"button",class:"btn",onClick:function(e){return o.toggleEditState(t)}},y,8,v),Object(s["g"])("button",{type:"button",class:"btn",onClick:function(e){return o.deleteTask(t.id)}},$,8,D)])])})),128)}var C=n("5530");function I(t,e,n,c,a,o){return n.isEdit?Object(s["N"])((Object(s["w"])(),Object(s["f"])("input",{key:0,type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=function(t){return a.tempTask.content=t}),onKeyup:[e[1]||(e[1]=Object(s["O"])((function(e){return t.$emit("update-task",a.tempTask)}),["enter"])),e[2]||(e[2]=Object(s["O"])((function(e){return t.$emit("cancel-edit")}),["esc"]))],onBlur:e[3]||(e[3]=function(e){return t.$emit("cancel-edit")})},null,544)),[[s["I"],a.tempTask.content]]):Object(s["e"])("",!0)}var M={data:function(){return{tempTask:{}}},props:{task:{type:Object,default:function(){return{}}},isEdit:{type:Boolean,default:!1}},watch:{task:function(){this.tempTask=this.task}}},x=n("6b0d"),G=n.n(x);const U=G()(M,[["render",I]]);var _=U,A=n("d282"),B=A["a"].toggleCompleteState,q=A["a"].updateTask,F=A["a"].deleteTask,J={data:function(){return{currentEditId:null,tempToDo:{}}},props:{tasks:{type:Array,default:function(){return[]}}},emits:["get-tasks"],components:{EditTask:_},methods:{toggleCompleteState:function(t){var e=this;B(t).then((function(){e.$emit("get-tasks"),e.currentEditId=null})).catch((function(t){console.dir(t),e.$httpMessageState(t.response)}))},toggleEditState:function(t){this.currentEditId=t.id===this.currentEditId?null:t.id,this.tempToDo=Object(C["a"])({},t)},updateTask:function(t){var e=this;q(t).then((function(t){e.$httpMessageState(t),e.$emit("get-tasks"),e.currentEditId=null})).catch((function(t){e.$httpMessageState(t.response)}))},cancelEdit:function(){this.currentEditId=null},deleteTask:function(t){var e=this;F(t).then((function(t){e.$httpMessageState(t,"刪除"),e.$emit("get-tasks")})).catch((function(t){e.$httpMessageState(t.response,"刪除")}))}}};const K=G()(J,[["render",S]]);var N=K,V=A["a"].checkAuth,H=A["a"].getTasks,z=A["a"].addTask,L={data:function(){return{nickname:"",toDo:{content:""},toDos:[],toDoTasks:[],completedTasks:[],tempToDo:{},isEdit:!1}},components:{Tasks:N},methods:{addTask:function(){var t=this;this.toDo.content&&z(this.toDo.content).then((function(e){t.$httpMessageState(e,"新增"),t.toDo.content="",t.getTasks()})).catch((function(e){t.$httpMessageState(e.response,"新增")}))},getTasks:function(){var t=this;H().then((function(e){t.toDos=e.data.todos,t.toDoTasks=t.toDos.filter((function(t){return!t.completed_at})),t.completedTasks=t.toDos.filter((function(t){return t.completed_at}))})).catch((function(e){t.$httpMessageState(e.response,"取得資料")}))}},mounted:function(){var t=this;V().then((function(e){t.$store.dispatch("updateSignInState",!0),t.$httpMessageState(e,"驗證"),t.nickname=t.$route.params.nickname,t.getTasks()})).catch((function(e){t.$httpMessageState(e.response,"驗證"),t.$router.push("/signIn")}))}};n("f819");const P=G()(L,[["render",O]]);e["default"]=P},f819:function(t,e,n){"use strict";n("0978")}}]);
//# sourceMappingURL=chunk-5d6be394.3421318c.js.map