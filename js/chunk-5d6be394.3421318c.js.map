{"version":3,"sources":["webpack:///./src/views/ToDoList.vue","webpack:///./src/components/Tasks.vue","webpack:///./src/components/EditTask.vue","webpack:///./src/components/EditTask.vue?18d8","webpack:///./src/components/Tasks.vue?a91c","webpack:///./src/views/ToDoList.vue?8592","webpack:///./src/views/ToDoList.vue?757d"],"names":["class","_createElementVNode","_hoisted_4","_hoisted_7","_createElementBlock","_toDisplayString","$data","type","placeholder","content","$event","onKeyup","$options","onClick","length","_hoisted_9","_hoisted_11","_createVNode","_component_Tasks","tasks","onGetTasks","_hoisted_13","_hoisted_8","_hoisted_6","_Fragment","_renderList","$props","task","key","id","true-value","completed_at","onChange","done","for","_component_EditTask","onUpdateTask","onCancelEdit","isEdit","_ctx","onBlur","data","tempTask","props","Object","default","Boolean","watch","this","__exports__","toggleCompleteState","apis","updateTask","deleteTask","currentEditId","tempToDo","Array","emits","components","EditTask","methods","then","$emit","catch","err","console","dir","$httpMessageState","response","toggleEditState","res","cancelEdit","checkAuth","getTasks","addTask","nickname","toDo","toDos","toDoTasks","completedTasks","Tasks","todos","filter","mounted","$store","dispatch","$route","params","$router","push","render"],"mappings":"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","file":"js/chunk-5d6be394.3421318c.js","sourcesContent":["<template>\n  <div class=\"container w-50\">\n    <form class=\"row w-50 mx-auto mb-3 mt-4\">\n      <h3>Hi, {{ nickname }} 歡迎回來！</h3>\n      <div class=\"col inputTask\">\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          placeholder=\"Add Task\"\n          v-model=\"toDo.content\"\n          @keyup.enter=\"addTask\"\n        />\n        <button type=\"button\" class=\"addTask\" @click=\"addTask\">\n          <i class=\"bi bi-plus\"></i>\n        </button>\n      </div>\n    </form>\n    <div v-if=\"!toDos.length\" class=\"w-50 mx-auto\">\n      <h3>開始新增待辦事項吧！</h3>\n    </div>\n    <div v-else>\n      <ul v-if=\"toDoTasks.length\" class=\"item-list toDoTasks w-50 mx-auto\">\n        <h3>To Do Tasks</h3>\n        <Tasks :tasks=\"toDoTasks\" @get-tasks=\"getTasks\" />\n      </ul>\n      <ul v-if=\"completedTasks.length\" class=\"item-list completedTasks w-50 mx-auto\">\n        <h3>Completed Tasks</h3>\n        <Tasks :tasks=\"completedTasks\" @get-tasks=\"getTasks\" />\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Tasks from '@/components/Tasks.vue';\nimport apis from '@/api/apis';\n\nconst { checkAuth, getTasks, addTask } = apis;\n\nexport default {\n  data() {\n    return {\n      nickname: '',\n      toDo: {\n        content: '',\n      },\n      toDos: [],\n      toDoTasks: [],\n      completedTasks: [],\n      tempToDo: {},\n      isEdit: false,\n    };\n  },\n  components: { Tasks },\n  methods: {\n    addTask() {\n      if (this.toDo.content) {\n        addTask(this.toDo.content)\n          .then((res) => {\n            this.$httpMessageState(res, '新增');\n            this.toDo.content = '';\n            this.getTasks();\n          })\n          .catch((err) => {\n            this.$httpMessageState(err.response, '新增');\n          });\n      }\n    },\n    getTasks() {\n      getTasks()\n        .then((res) => {\n          this.toDos = res.data.todos;\n          this.toDoTasks = this.toDos.filter((task) => !task.completed_at);\n          this.completedTasks = this.toDos.filter((task) => task.completed_at);\n        })\n        .catch((err) => {\n          this.$httpMessageState(err.response, '取得資料');\n        });\n    },\n  },\n  mounted() {\n    checkAuth()\n      .then((res) => {\n        this.$store.dispatch('updateSignInState', true);\n\n        this.$httpMessageState(res, '驗證');\n        this.nickname = this.$route.params.nickname;\n        this.getTasks();\n      })\n      .catch((err) => {\n        this.$httpMessageState(err.response, '驗證');\n        this.$router.push('/signIn');\n      });\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.inputTask {\n  position: relative;\n}\n.addTask {\n  position: absolute;\n  border: none;\n  background: transparent;\n  top: 6px;\n  right: 14px;\n}\n.done {\n  text-decoration: line-through;\n  color: gray;\n}\n.item-list {\n  border-radius: 5px;\n  padding: 20px;\n  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);\n}\n.toDoTasks {\n  background-color: #f6f9ff;\n}\n.completedTasks {\n  background-color: #99ddd6;\n}\n</style>\n","<template>\n  <li v-for=\"task in tasks\" :key=\"task.id\" class=\"d-flex justify-content-between\">\n    <div class=\"d-flex align-items-center\">\n      <div class=\"form-check\">\n        <input\n          type=\"checkbox\"\n          :id=\"task.id\"\n          class=\"form-check-input\"\n          :true-value=\"task.completed_at\"\n          @change=\"toggleCompleteState(task.id)\"\n        />\n        <label\n          v-if=\"currentEditId !== task.id\"\n          class=\"form-check-label\"\n          :class=\"{ done: task.completed_at }\"\n          :for=\"task.id\"\n        >\n          {{ task.content }}\n        </label>\n      </div>\n      <EditTask\n        :task=\"tempToDo\"\n        @update-task=\"updateTask\"\n        @cancel-edit=\"cancelEdit\"\n        :isEdit=\"currentEditId === task.id\"\n      />\n    </div>\n    <div>\n      <button type=\"button\" class=\"btn\" @click=\"toggleEditState(task)\">\n        <i class=\"bi bi-pencil-square\"></i>\n      </button>\n      <button type=\"button\" class=\"btn\" @click=\"deleteTask(task.id)\">\n        <i class=\"bi bi-trash\"></i>\n      </button>\n    </div>\n  </li>\n</template>\n\n<script>\nimport EditTask from '@/components/EditTask.vue';\nimport apis from '@/api/apis';\n\nconst { toggleCompleteState, updateTask, deleteTask } = apis;\n\nexport default {\n  data() {\n    return {\n      currentEditId: null,\n      tempToDo: {},\n    };\n  },\n  props: {\n    tasks: {\n      type: Array,\n      default() {\n        return [];\n      },\n    },\n  },\n  emits: ['get-tasks'],\n  components: {\n    EditTask,\n  },\n  methods: {\n    toggleCompleteState(id) {\n      toggleCompleteState(id)\n        .then(() => {\n          this.$emit('get-tasks');\n          this.currentEditId = null;\n        })\n        .catch((err) => {\n          console.dir(err);\n          this.$httpMessageState(err.response);\n        });\n    },\n    toggleEditState(task) {\n      this.currentEditId = task.id === this.currentEditId ? null : task.id;\n      this.tempToDo = { ...task };\n    },\n    updateTask(task) {\n      updateTask(task)\n        .then((res) => {\n          this.$httpMessageState(res);\n          this.$emit('get-tasks');\n          this.currentEditId = null;\n        })\n        .catch((err) => {\n          this.$httpMessageState(err.response);\n        });\n    },\n    cancelEdit() {\n      this.currentEditId = null;\n    },\n    deleteTask(id) {\n      deleteTask(id)\n        .then((res) => {\n          this.$httpMessageState(res, '刪除');\n          this.$emit('get-tasks');\n        })\n        .catch((err) => {\n          this.$httpMessageState(err.response, '刪除');\n        });\n    },\n  },\n};\n</script>\n","<template>\n  <input v-if=\"isEdit\"\n    type=\"text\"\n    class=\"form-control\"\n    v-model=\"tempTask.content\"\n    @keyup.enter=\"$emit('update-task', tempTask)\"\n    @keyup.esc=\"$emit('cancel-edit')\"\n    @blur=\"$emit('cancel-edit')\"\n  />\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      tempTask: {},\n    };\n  },\n  props: {\n    task: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n    isEdit: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  watch: {\n    task() {\n      this.tempTask = this.task;\n    },\n  },\n};\n</script>\n","import { render } from \"./EditTask.vue?vue&type=template&id=572a2bcb\"\nimport script from \"./EditTask.vue?vue&type=script&lang=js\"\nexport * from \"./EditTask.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/bearkern/projects/VueJS/vue3-to-do-list/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Tasks.vue?vue&type=template&id=2a6d511e\"\nimport script from \"./Tasks.vue?vue&type=script&lang=js\"\nexport * from \"./Tasks.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/bearkern/projects/VueJS/vue3-to-do-list/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToDoList.vue?vue&type=template&id=e6a1959c\"\nimport script from \"./ToDoList.vue?vue&type=script&lang=js\"\nexport * from \"./ToDoList.vue?vue&type=script&lang=js\"\n\nimport \"./ToDoList.vue?vue&type=style&index=0&id=e6a1959c&lang=scss\"\n\nimport exportComponent from \"/Users/bearkern/projects/VueJS/vue3-to-do-list/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ToDoList.vue?vue&type=style&index=0&id=e6a1959c&lang=scss\""],"sourceRoot":""}